# -*- coding: utf-8 -*-
"""
@author: Salvatore Iacoletti
"""

import os
from pysequentialvulnerability.record import Record


#%%

if __name__ == "__main__":
    
    from pysequentialvulnerability.base_sdof import get_sinewave

    # simple sinewave
    dt = 1e-2
    _, record = get_sinewave(amplitude=1., dt=dt)
    
    rec = Record(record, dt)
    
    rec.plot_inputs()
    rec.plot_response_spectrum()
    rec.plot_acc_vel_disp()


    base = r"C:\Users\Salvatore\Dropbox\SalvIac\pysequentialvulnerability\ground_motion_databases"

    # simbad
    path = os.path.join(base, "SIMBAD (Updated 2011)", "Records", "IN0001xa_record.mat")
    spectrum_path = os.path.join(base, "SIMBAD (Updated 2011)", "Spectra", "IN0001xa.mat")
    rec = Record.load_simbad_record(path, allinfo=True, spectrum_path=spectrum_path)
    rec.plot_inputs()
    rec.plot_response_spectrum()
    rec.plot_acc_vel_disp()
    rec.plot_comparison_spectra()

    # goda
    path = os.path.join(base, "MS-AS sequences by Katsu Goda", "MS_H1_1.dat")
    rec = Record.load_goda_record(path, allinfo=True)
    rec.plot_inputs()
    rec.plot_response_spectrum()
    rec.plot_acc_vel_disp()
    rec.plot_comparison_spectra()

